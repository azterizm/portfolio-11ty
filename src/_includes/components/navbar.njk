<div class="grid grid-cols-8 lg:gap-x-4 py-4 relative">
  <a class="col-span-4 lg:col-span-3" href="/"><img src="/assets/logo.svg" alt="The Impossible"></a>
  <div class="hidden lg:flex flex-col items-end lg:col-span-2 pr-8">
    <a href='/workflow' class="inline-block px-6 rounded-full border-2 py-2 border-black {{ 'bg-black text-white' if '/workflow/' in page.url }}">workflow</a>
    <a href='/scalability' class="inline-block mt-2 px-6 rounded-full border-2 py-2 border-black {{ 'bg-black text-white' if '/scalability/' in page.url }}">scalability</a>
    <a href='/risk-mitigations' class="inline-block mt-2 px-6 rounded-full border-2 py-2 border-black whitespace-nowrap {{ 'bg-black text-white' if '/risk-mitigations/' in page.url }}">risk mitigation</a>
    <a href='/pricing' class="inline-block mt-2 px-6 rounded-full border-2 py-2 border-black {{ 'bg-black text-white' if '/pricing/' in page.url }}">pricing</a>
  </div>
  <div class="lg:block hidden">
    <a href='/services' class="inline-block px-6 rounded-full border-2 py-2 border-black {{ 'bg-black text-white' if '/services/' in page.url }}">services</a>
    <a href='/work' class="inline-block mt-2 px-6 rounded-full border-2 py-2 border-black {{ 'bg-black text-white' if '/work/' in page.url or '/projects/' in page.url }}">work</a>
  </div>
  <div class="lg:block hidden">
    <a href='/about' class="inline-block px-6 rounded-full border-2 py-2 border-black {{ 'bg-black text-white' if '/about/' in page.url }}">about</a>
    <a href='/blog' class="inline-block mt-2 px-6 rounded-full border-2 py-2 border-black {{ 'bg-black text-white' if '/blog/' in page.url }}">blog</a>
  </div>
  <div class="lg:block hidden">
    <button
      class="px-6 rounded-full bg-pure-white text-black flex items-center gap-2 justify-between py-2 border-2 border-black w-full">
      <div class='talk-btn-content' data-tf-live="01JCSQ3SRMGCRG8X4HWB38Z62C">talk</div>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256">
        <path
          d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z">
        </path>
      </svg>
    </button>
  </div>
  <div class="col-span-3 lg:hidden"></div>
  <div class="lg:hidden flex items-center justify-end z-20">
    <button id='nav-icon'>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
  <div id='mobile-nav'
    class="fixed inset-0 z-50 flex h-[100dvh] w-screen flex-col bg-background px-6 py-8 opacity-0 pointer-events-none transition-opacity duration-300 overflow-hidden">
    
    {# Header #}
    <div class="flex items-center justify-between">
      <a href="/" class="block">
        <img src="/assets/logo.svg" alt="The Impossible" class="h-10 w-auto">
      </a>
      <button id="mobile-nav-close" aria-label="Close menu" class="flex h-12 w-12 items-center justify-center rounded-full border border-black/10 bg-white hover:bg-black hover:text-white transition-colors duration-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="6" y1="18" x2="18" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    {# Nav Links #}
    <nav class="flex flex-1 flex-col justify-center space-y-4">
      <a href='/services' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/services/' in page.url else 'text-black hover:text-primary' }}">services</a>
      <a href='/work' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/work/' in page.url or '/projects/' in page.url else 'text-black hover:text-primary' }}">work</a>
      <a href='/pricing' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/pricing/' in page.url else 'text-black hover:text-primary' }}">pricing</a>
      <a href='/workflow' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/workflow/' in page.url else 'text-black hover:text-primary' }}">workflow</a>
      <a href='/scalability' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/scalability/' in page.url else 'text-black hover:text-primary' }}">scalability</a>
      <a href='/risk-mitigations' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/risk-mitigations/' in page.url else 'text-black hover:text-primary' }}">risk mitigation</a>
      <a href='/blog' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/blog/' in page.url else 'text-black hover:text-primary' }}">blog</a>
      <a href='/about' class="font-heading text-5xl font-bold tracking-tight transition-colors duration-200 {{ 'text-primary' if '/about/' in page.url else 'text-black hover:text-primary' }}">about</a>
    </nav>

    {# CTA #}
    <div class="mt-auto">
      <button
        class="w-full rounded-full bg-black text-white flex items-center justify-between px-8 py-5 text-xl font-heading font-bold hover:scale-[1.02] transition-transform duration-200 group [&_a]:text-white">
        <div class='talk-btn-content !text-white [&_*]:!text-white' data-tf-live="01JCSQ3SRMGCRG8X4HWB38Z62C">talk</div>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256" class="transition-transform duration-200 group-hover:translate-x-1">
          <path
            d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z">
          </path>
        </svg>
      </button>
    </div>
  </div>
</div>
